"use strict";describe("mark with acrossElements and filter callback",function(){var e;beforeEach(function(){loadFixtures("across-elements/basic/filter.html"),e=$(".across-elements-filter")}),it("should call the callback with the right parameters",function(t){var r={lorem:0,ipsum:0,dolor:0},a=0,c=0;try{new Mark(e[0]).mark(Object.keys(r),{diacritics:!1,separateWordSearch:!1,acrossElements:!0,filter:function(e,t,s,i){return expect(e.nodeType).toBe(3),expect($.inArray(t,Object.keys(r))).toBeGreaterThan(-1),expect(a).toBe(s),expect(r[t]).toBe(i),3!=++c&&(r[t]++,a++,!0)},done:function(){expect(e.find("mark")).toHaveLength(15),t()}})}catch(s){t.fail(s.message)}})});