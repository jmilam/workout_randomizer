"use strict";describe("mark with iframes where onload was already fired",function(){var e,t,a;beforeEach(function(r){loadFixtures("iframes/readystate.html"),t=$(),e=$(".iframes-readystate"),a=0;try{var n=setInterval(function(){var a=e.find("iframe").first()[0].contentWindow,o=a.document.readyState,i=a.location.href;"complete"===o&&"about:blank"!==i&&(clearInterval(n),new Mark(e[0]).mark("lorem",{diacritics:!1,separateWordSearch:!1,iframes:!0,each:function(e){t=t.add($(e))},done:r}))},100)}catch(o){a++}},3e4),it("should wrap matches inside iframes",function(){expect(a).toBe(0),expect(t).toHaveLength(8);var r=!1;t.each(function(){$(this).prop("ownerDocument")!==e.prop("ownerDocument")&&(r=!0)}),expect(r).toBe(!0)})});